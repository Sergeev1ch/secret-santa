{"openapi":"3.0.0","paths":{"/users":{"post":{"operationId":"UsersController_create","summary":"Created user","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserDto"}}}},"responses":{"201":{"description":"User successfully created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/swaggerResponseCreated"}}}},"400":{"description":"The user was not created because registration for the game has ended or the maximum number of participants has been reached","content":{"application/json":{"schema":{"$ref":"#/components/schemas/swaggerResponseCreatedError"}}}}},"tags":["Secret Santa system"]}},"/users/{id}":{"get":{"operationId":"UsersController_getRecipient","summary":"Get a user by their id","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"The user who is assigned to you as a couple","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"404":{"description":"The game has not yet ended or the user has not been found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/swaggerResponseUserNotFound"}}}}},"tags":["Secret Santa system"]}},"/users/shuffle":{"post":{"operationId":"UsersController_shuffle","summary":"Generate user pairs","parameters":[],"responses":{"200":{"description":"Registration for the game is completed. Users are divided into pairs","content":{"application/json":{"schema":{"$ref":"#/components/schemas/swaggerResponseShuffle"}}}},"400":{"description":"Not enough members to start","content":{"application/json":{"schema":{"$ref":"#/components/schemas/swaggerResponseShuffleBad"}}}},"405":{"description":"Re-mixing is not allowed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/swaggerResponseShuffleMethod"}}}}},"tags":["Secret Santa system"]}},"/users/reset":{"delete":{"operationId":"UsersController_reset","summary":"Restarted game","parameters":[],"responses":{"200":{"description":"Game restarted","content":{"application/json":{"schema":{"$ref":"#/components/schemas/swaggerResponseRestart"}}}}},"tags":["Secret Santa system"]}}},"info":{"title":"Secret Santa","description":"The Secret Santa API description","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"schemas":{"CreateUserDto":{"type":"object","properties":{"firstname":{"type":"string","example":"Sergey","minLength":3},"lastname":{"type":"string","example":"Platonenko","minLength":3},"wishList":{"example":["test","test","test"],"minItems":1,"maxItems":10,"type":"array","items":{"type":"string"}}},"required":["firstname","lastname","wishList"]},"swaggerResponseCreated":{"type":"object","properties":{"code":{"type":"number","example":201},"message":{"type":"string","example":"Ваш id в системе: 1"}},"required":["code","message"]},"swaggerResponseCreatedError":{"type":"object","properties":{"code":{"type":"number","example":400},"message":{"type":"string","example":["Регистрация на игру завершилась!","Достигнуто максимальное количество учасников!"]}},"required":["code","message"]},"User":{"type":"object","properties":{"id":{"type":"number","example":1},"firstname":{"type":"string","example":"Sergey"},"lastname":{"type":"string","example":"Platonenko"},"wishList":{"example":["test","test","test"],"type":"array","items":{"type":"string"}},"giftsFor":{"type":"number","example":2}},"required":["id","firstname","lastname","wishList","giftsFor"]},"swaggerResponseUserNotFound":{"type":"object","properties":{"code":{"type":"number","example":404},"message":{"type":"string","example":["Пользователь с таким id не найден!","Вам еще не назначена пара!"]}},"required":["code","message"]},"swaggerResponseShuffle":{"type":"object","properties":{"code":{"type":"number","example":200},"message":{"type":"string","example":"Пары санта-получатель сформированы!"}},"required":["code","message"]},"swaggerResponseShuffleBad":{"type":"object","properties":{"code":{"type":"number","example":400},"message":{"type":"string","example":"Недостаточно учасников для начала!"}},"required":["code","message"]},"swaggerResponseShuffleMethod":{"type":"object","properties":{"code":{"type":"number","example":405},"message":{"type":"string","example":"Повторное перемешивание недопустимо!"}},"required":["code","message"]},"swaggerResponseRestart":{"type":"object","properties":{"code":{"type":"number","example":200},"message":{"type":"string","example":"Игроки удалены!"}},"required":["code","message"]}}}}